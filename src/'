import torch
from torch.autograd import grad, Variable
import autograd

a = torch.FloatTensor([1, 2, 3])
b = torch.FloatTensor([3, 4, 5])

a, b = Variable(a, requires_grad=True), Variable(b, requires_grad=True)

c = a**2 + b**2
c = c.sum()

grad_b = autograd.grad(c, b, retain_graph=True, create_graph=True)[0]
print(grad_b)

grad2_b = autograd.grad(grad_b[1], b, retain_graph=True, create_graph=True)
print(grad2_b)
